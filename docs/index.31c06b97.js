function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},s=n.parcelRequire9eea;function o(){}null==s&&((s=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},n.parcelRequire9eea=s),s.register("27Lyk",(function(t,n){var i,r;e(t.exports,"register",(()=>i),(e=>i=e)),e(t.exports,"resolve",(()=>r),(e=>r=e));var s={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},r=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("7u2uD",(function(e,t){e.exports=import("./"+s("27Lyk").resolve("9Z6Op")).then((()=>s("hYZwl")))})),s("27Lyk").register(JSON.parse('{"5CZhm":"index.31c06b97.js","ip9C6":"worker.7f21935a.js","9Z6Op":"calculateWithPacker.742f1b9c.js","eua3l":"index.ba28ea62.css"}'));const l=e=>e;function c(e){return e()}function a(){return Object.create(null)}function u(e){e.forEach(c)}function d(e){return"function"==typeof e}function f(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function p(e){return 0===Object.keys(e).length}const h="undefined"!=typeof window;let g=h?()=>window.performance.now():()=>Date.now(),v=h?e=>requestAnimationFrame(e):o;const m=new Set;function b(e){m.forEach((t=>{t.c(e)||(m.delete(t),t.f())})),0!==m.size&&v(b)}function y(e){let t;return 0===m.size&&v(b),{promise:new Promise((n=>{m.add(t={c:e,f:n})})),abort(){m.delete(t)}}}let x=!1;function w(e,t){e.appendChild(t)}function $(e,t,n){const i=k(e);if(!i.getElementById(t)){const e=O("style");e.id=t,e.textContent=n,C(i,e)}}function k(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function _(e){const t=O("style");return C(k(e),t),t.sheet}function C(e,t){w(e.head||e,t)}function M(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function O(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){return document.createTextNode(e)}function A(){return E(" ")}function L(){return E("")}function R(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function H(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e){return""===e?null:+e}function q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function N(e,t){e.value=null==t?"":t}function P(e,t,n,i){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function F(e,t,n){e.classList[n?"add":"remove"](t)}function D(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,i,t),r}const z=new Map;let B,W=0;function J(e,t,n,i,r,s,o,l=0){const c=16.666/i;let a="{\n";for(let e=0;e<=1;e+=c){const i=t+(n-t)*s(e);a+=100*e+`%{${o(i,1-i)}}\n`}const u=a+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,f=k(e),{stylesheet:p,rules:h}=z.get(f)||function(e,t){const n={stylesheet:_(t),rules:{}};return z.set(e,n),n}(f,e);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${i}ms linear ${r}ms 1 both`,W+=1,d}function U(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-i.length;r&&(e.style.animation=i.join(", "),W-=r,W||v((()=>{W||(z.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),z.clear())})))}function Z(e){B=e}const Y=[],I=[],G=[],K=[],Q=Promise.resolve();let V=!1;function X(){V||(V=!0,Q.then(re))}function ee(e){G.push(e)}const te=new Set;let ne,ie=0;function re(){const e=B;do{for(;ie<Y.length;){const e=Y[ie];ie++,Z(e),se(e.$$)}for(Z(null),Y.length=0,ie=0;I.length;)I.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];te.has(t)||(te.add(t),t())}G.length=0}while(Y.length);for(;K.length;)K.pop()();V=!1,te.clear(),Z(e)}function se(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function oe(){return ne||(ne=Promise.resolve(),ne.then((()=>{ne=null}))),ne}function le(e,t,n){e.dispatchEvent(D(`${t?"intro":"outro"}${n}`))}const ce=new Set;let ae;function ue(){ae={r:0,c:[],p:ae}}function de(){ae.r||u(ae.c),ae=ae.p}function fe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function pe(e,t,n,i){if(e&&e.o){if(ce.has(e))return;ce.add(e),ae.c.push((()=>{ce.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}const he={duration:0};function ge(e,t,n,i){let r=t(e,n),s=i?0:1,c=null,a=null,f=null;function p(){f&&U(e,f)}function h(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(t){const{delay:n=0,duration:i=300,easing:d=l,tick:v=o,css:m}=r||he,b={start:g()+n,b:t};t||(b.group=ae,ae.r+=1),c||a?a=b:(m&&(p(),f=J(e,s,t,i,n,d,m)),t&&v(0,1),c=h(b,i),ee((()=>le(e,t,"start"))),y((t=>{if(a&&t>a.start&&(c=h(a,i),a=null,le(e,c.b,"start"),m&&(p(),f=J(e,s,c.b,c.duration,0,d,r.css))),c)if(t>=c.end)v(s=c.b,1-s),le(e,c.b,"end"),a||(c.b?p():--c.group.r||u(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;s=c.a+c.d*d(e/c.duration),v(s,1-s)}return!(!c&&!a)})))}return{run(e){d(r)?oe().then((()=>{r=r(),v(e)})):v(e)},end(){p(),c=a=null}}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis;function ve(e,t){e.d(1),t.delete(e.key)}function me(e,t,n,i,r,s,o,l,c,a,u,d){let f=e.length,p=s.length,h=f;const g={};for(;h--;)g[e[h].key]=h;const v=[],m=new Map,b=new Map;for(h=p;h--;){const e=d(r,s,h),l=n(e);let c=o.get(l);c?i&&c.p(e,t):(c=a(l,e),c.c()),m.set(l,v[h]=c),l in g&&b.set(l,Math.abs(h-g[l]))}const y=new Set,x=new Set;function w(e){fe(e,1),e.m(l,u),o.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=v[p-1],n=e[f-1],i=t.key,r=n.key;t===n?(u=t.first,f--,p--):m.has(r)?!o.has(i)||y.has(i)?w(t):x.has(r)?f--:b.get(i)>b.get(r)?(x.add(i),w(t)):(y.add(r),f--):(c(n,o),f--)}for(;f--;){const t=e[f];m.has(t.key)||c(t,o)}for(;p;)w(v[p-1]);return v}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let be;function ye(e,t,n,i){const{fragment:r,on_mount:s,on_destroy:o,after_update:l}=e.$$;r&&r.m(t,n),i||ee((()=>{const t=s.map(c).filter(d);o?o.push(...t):u(t),e.$$.on_mount=[]})),l.forEach(ee)}function xe(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(e,t,n,i,r,s,l,c=[-1]){const d=B;Z(e);const f=e.$$={fragment:null,ctx:null,props:s,update:o,not_equal:r,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:a(),dirty:c,skip_bound:!1,root:t.target||d.$$.root};l&&l(f.root);let p=!1;if(f.ctx=n?n(e,t.props||{},((t,n,...i)=>{const s=i.length?i[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&function(e,t){-1===e.$$.dirty[0]&&(Y.push(e),X(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],f.update(),p=!0,u(f.before_update),f.fragment=!!i&&i(f.ctx),t.target){if(t.hydrate){x=!0;const e=(h=t.target,Array.from(h.childNodes));f.fragment&&f.fragment.l(e),e.forEach(S)}else f.fragment&&f.fragment.c();t.intro&&fe(e.$$.fragment),ye(e,t.target,t.anchor,t.customElement),x=!1,re()}var h;Z(d)}"function"==typeof HTMLElement&&(be=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(c).filter(d);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){u(this.$$.on_disconnect)}$destroy(){xe(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!p(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class $e{$destroy(){xe(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!p(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ke;ke=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){e.exports=function(e,t,n){var i=Math.floor(6*e),r=6*e-i,s=n*(1-t),o=n*(1-r*t),l=n*(1-(1-r)*t),c=255,a=255,u=255;switch(i){case 0:c=n,a=l,u=s;break;case 1:c=o,a=n,u=s;break;case 2:c=s,a=n,u=l;break;case 3:c=s,a=o,u=n;break;case 4:c=l,a=s,u=n;break;case 5:c=n,a=s,u=o}return[Math.floor(255*c),Math.floor(255*a),Math.floor(255*u)]}},function(e,t,n){var i=n(2);e.exports=function(e){return"#"+e.map((function(e){return i(e.toString(16))})).join("")}},function(e,t,n){e.exports=function(e){return e.length>2?e:new Array(2-e.length+1).join("0")+e}},function(e,t,n){var i=n(0),r=n(1),s=.618033988749895,o=void 0;function l(){o=Math.random()}function c(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hue,n=e.saturation,r=e.value;return void 0===t&&(o+=s,t=o%=1),"number"!=typeof n&&(n=.5),"number"!=typeof r&&(r=.95),i(t,n,r)}(e,t);return r(n)}l(),c.reSeed=l,e.exports=c}]);const _e=Math.random;Math.random=()=>.3,t(ke).reSeed(),Math.random=_e;const Ce=[];function Me(e){for(;!Ce[e];)Ce.push(t(ke)());return Ce[e]}function Se(e){return e&&"number"==typeof e&&e>0}function Oe(e){$(e,"svelte-1q5u4ch","svg.svelte-1q5u4ch{background:#fafafa;width:100%}.grid.svelte-1q5u4ch{display:grid;grid-template-columns:min-content 1fr min-content;grid-template-rows:min-content 1fr;grid-column-gap:5px;grid-row-gap:5px}.y-label.svelte-1q5u4ch{writing-mode:vertical-rl;transform:rotate(180deg)}.y-label-right.svelte-1q5u4ch{writing-mode:vertical-rl}.border.svelte-1q5u4ch{stroke:#adadad;stroke-width:0.25}")}function je(e,t,n){const i=e.slice();return i[8]=t[n],i}function Ee(e,t,n){const i=e.slice();return i[11]=t[n],i[13]=n,i}function Ae(e,t,n){const i=e.slice();return i[11]=t[n],i[13]=n,i}function Le(e,t){let n,i,r,s,o,l,c,a,u,d,f,p=t[13]+1+"",h=t[11].width+"",g=t[11].height+"",v=t[11].x+"",m=t[11].y+"";return{key:e,first:null,c(){n=O("li"),i=E("Fabric piece #"),r=E(p),s=E(": "),o=E(h),l=E(" wide by "),c=E(g),a=E(" long, at position "),u=E(v),d=E(", "),f=E(m),this.first=n},m(e,t){M(e,n,t),w(n,i),w(n,r),w(n,s),w(n,o),w(n,l),w(n,c),w(n,a),w(n,u),w(n,d),w(n,f)},p(e,n){t=e,1&n&&p!==(p=t[13]+1+"")&&q(r,p),1&n&&h!==(h=t[11].width+"")&&q(o,h),1&n&&g!==(g=t[11].height+"")&&q(c,g),1&n&&v!==(v=t[11].x+"")&&q(u,v),1&n&&m!==(m=t[11].y+"")&&q(f,m)},d(e){e&&S(n)}}}function Re(e,t){let n,i,r,s,o,l;return{key:e,first:null,c(){n=j("rect"),H(n,"x",i=t[11].x),H(n,"y",r=t[11].y),H(n,"width",s=t[11].width),H(n,"height",o=t[11].height),H(n,"fill",l=Me(t[11].id)),this.first=n},m(e,t){M(e,n,t)},p(e,c){t=e,1&c&&i!==(i=t[11].x)&&H(n,"x",i),1&c&&r!==(r=t[11].y)&&H(n,"y",r),1&c&&s!==(s=t[11].width)&&H(n,"width",s),1&c&&o!==(o=t[11].height)&&H(n,"height",o),1&c&&l!==(l=Me(t[11].id))&&H(n,"fill",l)},d(e){e&&S(n)}}}function He(e){let t,n=[],i=new Map,r=e[4];const s=e=>[e[8].x1,e[8].y1,e[8].x2,e[8].y2].join(",");for(let t=0;t<r.length;t+=1){let o=je(e,r,t),l=s(o);i.set(l,n[t]=Te(l,o))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,i){for(let t=0;t<n.length;t+=1)n[t].m(e,i);M(e,t,i)},p(e,o){16&o&&(r=e[4],n=me(n,o,s,1,e,r,i,t.parentNode,ve,Te,t,je))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function Te(e,t){let n,i,r,s,o;return{key:e,first:null,c(){n=j("line"),H(n,"x1",i=t[8].x1),H(n,"y1",r=t[8].y1),H(n,"x2",s=t[8].x2),H(n,"y2",o=t[8].y2),H(n,"class","border svelte-1q5u4ch"),H(n,"stroke-dasharray","1"),this.first=n},m(e,t){M(e,n,t)},p(e,l){t=e,16&l&&i!==(i=t[8].x1)&&H(n,"x1",i),16&l&&r!==(r=t[8].y1)&&H(n,"y1",r),16&l&&s!==(s=t[8].x2)&&H(n,"x2",s),16&l&&o!==(o=t[8].y2)&&H(n,"y2",o)},d(e){e&&S(n)}}}function qe(e){let t,n,i,r,s,l,c,a,u,d,f,p,h,g,v,m,b,y,x,$,k,_,C,T,N,P,F,D,z,B,W,J,U,Z=[],Y=new Map,I=[],G=new Map,K=e[0];const Q=e=>e[11].id;for(let t=0;t<K.length;t+=1){let n=Ae(e,K,t),i=Q(n);Y.set(i,Z[t]=Le(i,n))}let V=e[0];const X=e=>e[11].id;for(let t=0;t<V.length;t+=1){let n=Ee(e,V,t),i=X(n);G.set(i,I[t]=Re(i,n))}let ee=e[3]&&He(e);return{c(){t=O("section"),n=O("ul");for(let e=0;e<Z.length;e+=1)Z[e].c();i=A(),r=O("div"),s=O("div"),l=A(),c=O("div"),a=E(e[2]),u=E('"'),d=A(),f=O("div"),p=A(),h=O("div"),g=E(e[1]),v=E('" (selvage)'),m=A(),b=O("div"),y=j("svg");for(let e=0;e<I.length;e+=1)I[e].c();x=L(),ee&&ee.c(),$=j("rect"),_=A(),C=O("div"),C.textContent="(selvage)",T=A(),N=O("div"),P=O("div"),F=O("label"),D=O("input"),z=A(),B=O("span"),B.textContent="Show gridlines",H(n,"class","sr-only"),H(n,"aria-label","Fabric pieces drawn in the diagram"),H(c,"class","x-label"),H(h,"class","y-label svelte-1q5u4ch"),H($,"class","border svelte-1q5u4ch"),H($,"x","0"),H($,"y","0"),H($,"width",e[2]),H($,"height",e[1]),H($,"fill-opacity","0"),H(y,"xmlns","http://www.w3.org/2000/svg"),H(y,"viewBox",k="0 0 "+e[2]+" "+e[1]),H(y,"class","svelte-1q5u4ch"),H(C,"class","y-label-right svelte-1q5u4ch"),H(r,"class","grid svelte-1q5u4ch"),H(r,"aria-hidden","true"),H(D,"type","checkbox"),H(P,"class","pad-v-10"),H(t,"aria-label",W="Diagram "+e[2]+" wide by "+e[1]+" long")},m(o,k){M(o,t,k),w(t,n);for(let e=0;e<Z.length;e+=1)Z[e].m(n,null);w(t,i),w(t,r),w(r,s),w(r,l),w(r,c),w(c,a),w(c,u),w(r,d),w(r,f),w(r,p),w(r,h),w(h,g),w(h,v),w(r,m),w(r,b),w(b,y);for(let e=0;e<I.length;e+=1)I[e].m(y,null);w(y,x),ee&&ee.m(y,null),w(y,$),w(r,_),w(r,C),w(t,T),w(t,N),w(N,P),w(P,F),w(F,D),D.checked=e[3],w(F,z),w(F,B),J||(U=R(D,"change",e[6]),J=!0)},p(e,[i]){1&i&&(K=e[0],Z=me(Z,i,Q,1,e,K,Y,n,ve,Le,null,Ae)),4&i&&q(a,e[2]),2&i&&q(g,e[1]),1&i&&(V=e[0],I=me(I,i,X,1,e,V,G,y,ve,Re,x,Ee)),e[3]?ee?ee.p(e,i):(ee=He(e),ee.c(),ee.m(y,$)):ee&&(ee.d(1),ee=null),4&i&&H($,"width",e[2]),2&i&&H($,"height",e[1]),6&i&&k!==(k="0 0 "+e[2]+" "+e[1])&&H(y,"viewBox",k),8&i&&(D.checked=e[3]),6&i&&W!==(W="Diagram "+e[2]+" wide by "+e[1]+" long")&&H(t,"aria-label",W)},i:o,o:o,d(e){e&&S(t);for(let e=0;e<Z.length;e+=1)Z[e].d();for(let e=0;e<I.length;e+=1)I[e].d();ee&&ee.d(),J=!1,U()}}}function Ne(e,t,n){let i=!0,r=[];let{increment:s}=t,{items:o}=t,{height:l}=t,{width:c}=t;return e.$$set=e=>{"increment"in e&&n(5,s=e.increment),"items"in e&&n(0,o=e.items),"height"in e&&n(1,l=e.height),"width"in e&&n(2,c=e.width)},e.$$.update=()=>{38&e.$$.dirty&&n(4,r=function(e,t,n){if(!Se(n)||!Se(e)||!Se(t))return[];const i=[];for(let r=n;r<e;r+=n)i.push({x1:r,y1:0,x2:r,y2:t});for(let r=n;r<t;r+=n)i.push({x1:0,y1:r,x2:e,y2:r});return i}(c,l,s))},[o,l,c,i,r,s,function(){i=this.checked,n(3,i)}]}var Pe,Fe=class extends $e{constructor(e){super(),we(this,e,Ne,qe,f,{increment:5,items:0,height:1,width:2},Oe)}},De=0;function ze(e,t){var n=t.data;if(Array.isArray(n)&&!(n.length<2)){var i=n[0],r=n[1],s=n[2],o=e._callbacks[i];o&&(delete e._callbacks[i],o(r,s))}}function Be(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",(function(e){ze(t,e)}))}Be.prototype.postMessage=function(e){var t=this,n=De++,i=[n,e];return new Promise((function(e,r){if(t._callbacks[n]=function(t,n){if(t)return r(new Error(t.message));e(n)},void 0!==t._worker.controller){var s=new MessageChannel;s.port1.onmessage=function(e){ze(t,e)},t._worker.controller.postMessage(i,[s.port2])}else t._worker.postMessage(i)}))},Pe=Be;var We,Je;Je=function(e,t,n){if(t===self.location.origin)return e;var i=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([i],{type:"application/javascript"}))};let Ue=new URL(s("27Lyk").resolve("ip9C6"),import.meta.url);We=Je(Ue.toString(),Ue.origin,!0);const Ze=function(){const e=new Worker(We);return new(t(Pe))(e)}();async function Ye({fabricPieces:e,fabricWidth:t,fabricSoldBy:n,allowRotation:i}){return e.length?!e.some((e=>!Se(e.width)||!Se(e.height)))&&Se(t)&&Se(n)?e.some((({width:e,height:n})=>e>t&&n>t))?{error:"One of the pieces of fabric is larger than the size of the fabric you are buying."}:await Ze.postMessage({fabricPieces:e,fabricWidth:t,fabricSoldBy:n,allowRotation:i}):{error:"All lengths/widths must be greater than zero"}:{noSolution:!0}}var Ie,Ge=Array.prototype.slice,Ke="function"==typeof Object.keys?Object.keys:function(e){var t=[];for(var n in e)t.push(n);return t},Qe=Ie=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():et(e)?et(t):"object"!=typeof e&&"object"!=typeof t?e==t:function(e,t){if(Ve(e)||Ve(t))return!1;if(e.prototype!==t.prototype)return!1;if(Xe(e))return!!Xe(t)&&(e=Ge.call(e),t=Ge.call(t),Qe(e,t));try{var n,i,r=Ke(e),s=Ke(t)}catch(e){return!1}if(r.length!=s.length)return!1;for(r.sort(),s.sort(),i=r.length-1;i>=0;i--)if(r[i]!=s[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!Qe(e[n],t[n]))return!1;return!0}(e,t))};function Ve(e){return null==e}function Xe(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function et(e){return"number"==typeof e&&e!=e}function tt(e,{delay:t=0,duration:n=400,easing:i=l}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:e=>"opacity: "+e*r}}function nt(e){$(e,"svelte-1s34n3c","*, *::before, *::after{box-sizing:border-box}body{font-family:sans-serif;max-width:800px;margin:0 auto;padding:20px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.grid.svelte-1s34n3c.svelte-1s34n3c{display:grid;align-items:center}.grid-gap-20.svelte-1s34n3c.svelte-1s34n3c{grid-row-gap:20px;grid-column-gap:20px}.grid-gap-10.svelte-1s34n3c.svelte-1s34n3c{grid-row-gap:10px;grid-column-gap:10px}.grid-span-2.svelte-1s34n3c.svelte-1s34n3c{grid-column:1 / 3}@media(min-width: 768px){.grid-span-3-when-big.svelte-1s34n3c.svelte-1s34n3c{grid-column:1 / 4}}.grid-2fr-1fr.svelte-1s34n3c.svelte-1s34n3c{grid-template-columns:2fr 1fr}.input-wrap.svelte-1s34n3c.svelte-1s34n3c{min-width:0;display:flex}.input-wrap.svelte-1s34n3c input.svelte-1s34n3c{flex:1;width:0;max-width:100%}.flex.svelte-1s34n3c.svelte-1s34n3c{display:flex}.flex.svelte-1s34n3c>.svelte-1s34n3c{flex:1}.flex-h.svelte-1s34n3c.svelte-1s34n3c{flex-direction:row}.flex-h-when-big.svelte-1s34n3c.svelte-1s34n3c{flex-direction:row}.flex-h-when-big.svelte-1s34n3c>.svelte-1s34n3c:first-child{margin-right:20px}@media(max-width: 767px){.flex-h-when-big.svelte-1s34n3c.svelte-1s34n3c{flex-direction:column}.flex-h-when-big.svelte-1s34n3c>.svelte-1s34n3c:first-child{margin-bottom:20px}}.fabric-piece-grid.svelte-1s34n3c.svelte-1s34n3c{grid-template-columns:min-content 1fr min-content 1fr}@media(max-width: 767px){.fabric-piece-grid.svelte-1s34n3c.svelte-1s34n3c{grid-template-columns:2fr 1fr}}.fabric-piece-input-grid.svelte-1s34n3c.svelte-1s34n3c{grid-template-columns:min-content 1fr min-content 1fr}@media(max-width: 767px){.fabric-piece-input-grid.svelte-1s34n3c.svelte-1s34n3c{grid-template-columns:2fr 1fr}}.indicator.svelte-1s34n3c.svelte-1s34n3c{width:1em;height:1em;border-radius:1px;display:inline-block;margin-right:10px}.center-h.svelte-1s34n3c.svelte-1s34n3c{display:flex;justify-content:center}.text-align-center.svelte-1s34n3c.svelte-1s34n3c{text-align:center}.text-align-right.svelte-1s34n3c.svelte-1s34n3c{text-align:right}.flex-1.svelte-1s34n3c.svelte-1s34n3c{flex:1}.flex-gap-10.svelte-1s34n3c.svelte-1s34n3c{gap:10px}.center-v.svelte-1s34n3c.svelte-1s34n3c{display:flex;align-items:center}.left-h.svelte-1s34n3c.svelte-1s34n3c{display:flex;justify-content:flex-start}ul.svelte-1s34n3c.svelte-1s34n3c{list-style:none;margin:0;padding:0}li.svelte-1s34n3c.svelte-1s34n3c{margin:10px 0;padding:10px;border:1px solid #ccc}.pad-v-10{padding-top:10px;padding-bottom:10px}.pad-v-20.svelte-1s34n3c.svelte-1s34n3c{padding-top:20px;padding-bottom:20px}.pad-h-10.svelte-1s34n3c.svelte-1s34n3c{padding-left:10px;padding-right:10px}.error-message.svelte-1s34n3c.svelte-1s34n3c{color:darkred}button.svelte-1s34n3c.svelte-1s34n3c{padding:2px 5px;font-size:1em;cursor:pointer}button.min-touch-target.svelte-1s34n3c.svelte-1s34n3c{padding:2px 10px}input.svelte-1s34n3c.svelte-1s34n3c{font-size:1em}input[type=checkbox]{margin-right:7px}a, a:visited{color:#3d63d4;text-decoration:none}a:hover{text-decoration:underline}footer{margin-top:60px;font-size:0.9rem;color:#333;padding:10px}input[type=numeric], input[type=text]{min-width:0}")}function it(e,t,n){const i=e.slice();return i[23]=t[n],i[24]=t,i[25]=n,i}function rt(e){let t;return{c(){t=E("Add fabric piece")},m(e,n){M(e,t,n)},d(e){e&&S(t)}}}function st(e){let t;return{c(){t=E("Add fabric pieces")},m(e,n){M(e,t,n)},d(e){e&&S(t)}}}function ot(e){let t,n,i,r=[],s=new Map,o=e[1];const l=e=>e[23].id;for(let t=0;t<o.length;t+=1){let n=it(e,o,t),i=l(n);s.set(i,r[t]=lt(i,n))}return{c(){t=O("h3"),t.textContent="Current pieces of fabric",n=A(),i=O("ul");for(let e=0;e<r.length;e+=1)r[e].c();H(t,"class","sr-only"),H(i,"class","pad-v-20 svelte-1s34n3c")},m(e,s){M(e,t,s),M(e,n,s),M(e,i,s);for(let e=0;e<r.length;e+=1)r[e].m(i,null)},p(e,t){4098&t&&(o=e[1],r=me(r,t,l,1,e,o,s,i,ve,lt,null,it))},d(e){e&&S(t),e&&S(n),e&&S(i);for(let e=0;e<r.length;e+=1)r[e].d()}}}function lt(e,t){let n,i,r,s,o,l,c,a,d,f,p,h,g,v,m,b,y,x,$,k,_,C,j,L,F,D,z,B,W,J,U,Z,Y,I=t[25]+1+"";function G(){return t[19](t[25])}function K(){t[20].call(k,t[25])}function Q(){t[21].call(W,t[25])}return{key:e,first:null,c(){n=O("li"),i=O("div"),r=O("div"),s=O("div"),o=A(),l=O("strong"),c=E("Fabric piece #"),a=E(I),d=A(),f=O("div"),p=O("button"),p.textContent="×",h=A(),g=O("div"),v=O("div"),m=O("label"),b=E("Width:"),x=A(),$=O("div"),k=O("input"),C=A(),j=O("div"),L=O("label"),F=E("Length:"),z=A(),B=O("div"),W=O("input"),U=A(),H(s,"class","indicator svelte-1s34n3c"),P(s,"background-color",Me(t[23].id)),H(r,"class","center-v left-h svelte-1s34n3c"),H(p,"class","min-touch-target svelte-1s34n3c"),H(p,"type","button"),H(p,"aria-label","Remove"),H(p,"title","Remove"),H(f,"class","flex-1 text-align-right svelte-1s34n3c"),H(i,"class","center-v left-h svelte-1s34n3c"),H(m,"for",y="fabric-width-"+t[25]),H(k,"id",_="fabric-width-"+t[25]),H(k,"type","number"),H(k,"inputmode","numeric"),H(k,"placeholder","10"),H(k,"class","svelte-1s34n3c"),H($,"class","input-wrap svelte-1s34n3c"),H(L,"for",D="fabric-height-"+t[25]),H(W,"id",J="fabric-height-"+t[25]),H(W,"type","number"),H(W,"inputmode","numeric"),H(W,"placeholder","10"),H(W,"class","svelte-1s34n3c"),H(B,"class","input-wrap svelte-1s34n3c"),H(g,"class","grid grid-gap-10 pad-v-10 fabric-piece-grid svelte-1s34n3c"),H(n,"class","pad-v-10 svelte-1s34n3c"),this.first=n},m(e,u){M(e,n,u),w(n,i),w(i,r),w(r,s),w(r,o),w(r,l),w(l,c),w(l,a),w(i,d),w(i,f),w(f,p),w(n,h),w(n,g),w(g,v),w(v,m),w(m,b),w(g,x),w(g,$),w($,k),N(k,t[1][t[25]].width),w(g,C),w(g,j),w(j,L),w(L,F),w(g,z),w(g,B),w(B,W),N(W,t[1][t[25]].height),w(n,U),Z||(Y=[R(p,"click",G),R(k,"input",K),R(W,"input",Q)],Z=!0)},p(e,n){t=e,2&n&&P(s,"background-color",Me(t[23].id)),2&n&&I!==(I=t[25]+1+"")&&q(a,I),2&n&&y!==(y="fabric-width-"+t[25])&&H(m,"for",y),2&n&&_!==(_="fabric-width-"+t[25])&&H(k,"id",_),2&n&&T(k.value)!==t[1][t[25]].width&&N(k,t[1][t[25]].width),2&n&&D!==(D="fabric-height-"+t[25])&&H(L,"for",D),2&n&&J!==(J="fabric-height-"+t[25])&&H(W,"id",J),2&n&&T(W.value)!==t[1][t[25]].height&&N(W,t[1][t[25]].height)},d(e){e&&S(n),Z=!1,u(Y)}}}function ct(e){let t;return{c(){t=E(" ")},m(e,n){M(e,t,n)},p:o,d(e){e&&S(t)}}}function at(e){let t,n,i,r,s,o=e[4].fabricHeight+"";return{c(){t=E("You need a piece of fabric "),n=O("strong"),i=E(o),r=E(" inches"),s=E(" long")},m(e,o){M(e,t,o),M(e,n,o),w(n,i),w(n,r),M(e,s,o)},p(e,t){16&t&&o!==(o=e[4].fabricHeight+"")&&q(i,o)},d(e){e&&S(t),e&&S(n),e&&S(s)}}}function ut(e){let t;return{c(){t=E(e[8])},m(e,n){M(e,t,n)},p(e,n){256&n&&q(t,e[8])},d(e){e&&S(t)}}}function dt(e){let t;return{c(){t=E("Calculating…")},m(e,n){M(e,t,n)},p:o,d(e){e&&S(t)}}}function ft(e){let t,n,i,r;return n=new Fe({props:{items:e[4].items,width:e[2],height:e[4].fabricHeight,increment:e[0]}}),{c(){var e;t=O("div"),(e=n.$$.fragment)&&e.c()},m(e,i){M(e,t,i),ye(n,t,null),r=!0},p(e,t){const i={};16&t&&(i.items=e[4].items),4&t&&(i.width=e[2]),16&t&&(i.height=e[4].fabricHeight),1&t&&(i.increment=e[0]),n.$set(i)},i(e){r||(fe(n.$$.fragment,e),ee((()=>{i||(i=ge(t,tt,{duration:250},!0)),i.run(1)})),r=!0)},o(e){pe(n.$$.fragment,e),i||(i=ge(t,tt,{duration:250},!1)),i.run(0),r=!1},d(e){e&&S(t),xe(n),e&&i&&i.end()}}}function pt(e){let t,n,i,r,s,o,l,c,a,d,f,p,h,g,v,m,b,y,x,$,k,_,C,j,L,q,P,D,z,B,W,J,U,Z,Y,I,G,K,Q,V,X,ee,te,ne,ie,re,se,oe,le,ce,ae,he,ge,ve,me,be,ye,xe,we,$e,ke,_e,Ce,Me;function Se(e,t){return e[7]>1?st:rt}let Oe=Se(e),je=Oe(e),Ee=e[1].length&&ot(e);function Ae(e,t){return e[9]?dt:e[8]?ut:e[4]?at:ct}let Le=Ae(e),Re=Le(e),He=!e[9]&&!e[8]&&e[4]&&ft(e);return{c(){t=O("div"),n=O("h1"),n.textContent="Fabric calculator",i=A(),r=O("p"),r.textContent="This tool can calculate how much fabric you should buy based on the pieces you need to cut.\n    The default assumption is that fabric is sold by the half-yard. All values are in inches.",s=A(),o=O("div"),l=O("div"),c=O("div"),a=O("div"),d=O("label"),d.textContent="Width of fabric you're buying:",f=A(),p=O("div"),h=O("input"),g=A(),v=O("label"),v.textContent="Fabric sold in increments of:",m=A(),b=O("div"),y=O("input"),x=A(),$=O("div"),k=O("input"),_=A(),C=O("label"),C.textContent="Allow rotation of fabric pieces",j=A(),L=O("div"),q=O("h2"),q.textContent="Pieces of fabric",P=A(),D=O("h3"),D.textContent="Add pieces of fabric",z=A(),B=O("div"),W=O("div"),J=O("div"),J.innerHTML='<label for="fabric-width-default">Width:</label>',U=A(),Z=O("div"),Y=O("input"),I=A(),G=O("div"),G.innerHTML='<label for="fabric-height-default">Length:</label>',K=A(),Q=O("div"),V=O("input"),X=A(),ee=O("div"),ee.innerHTML='<label for="fabric-pieces-to-add">Number of pieces to add:</label>',te=A(),ne=O("div"),ie=O("input"),re=A(),se=O("div"),oe=O("div"),le=O("button"),je.c(),ce=A(),ae=O("div"),he=O("button"),ge=E("Remove all"),me=A(),Ee&&Ee.c(),be=A(),ye=O("div"),xe=O("div"),Re.c(),we=A(),He&&He.c(),$e=A(),ke=O("footer"),ke.innerHTML='Created by <a href="https://nolanlawson.com" target="_blank" rel="noopener">Nolan Lawson</a>.\n    See the <a href="https://github.com/nolanlawson/fabric-calculator">source code</a>.',H(d,"for","fabric-width"),H(h,"id","fabric-width"),H(h,"type","number"),H(h,"inputmode","numeric"),H(h,"placeholder","45"),H(h,"class","svelte-1s34n3c"),H(p,"class","input-wrap svelte-1s34n3c"),H(v,"for","fabric-increment"),H(y,"id","fabric-increment"),H(y,"type","number"),H(y,"inputmode","numeric"),H(y,"placeholder","18"),H(y,"class","svelte-1s34n3c"),H(b,"class","input-wrap svelte-1s34n3c"),H(k,"id","fabric-rotation"),H(k,"type","checkbox"),H(k,"class","svelte-1s34n3c"),H(C,"for","fabric-rotation"),H($,"class","grid-span-2 svelte-1s34n3c"),H(a,"class","grid grid-gap-20 grid-2fr-1fr svelte-1s34n3c"),H(c,"class","pad-v-10 pad-h-10 svelte-1s34n3c"),H(D,"class","sr-only"),H(Y,"id","fabric-width-default"),H(Y,"type","number"),H(Y,"inputmode","numeric"),H(Y,"placeholder","10"),H(Y,"class","svelte-1s34n3c"),H(Z,"class","input-wrap svelte-1s34n3c"),H(V,"id","fabric-height-default"),H(V,"type","number"),H(V,"inputmode","numeric"),H(V,"placeholder","10"),H(V,"class","svelte-1s34n3c"),H(Q,"class","input-wrap svelte-1s34n3c"),H(ee,"class","grid-span-3-when-big svelte-1s34n3c"),H(ie,"type","number"),H(ie,"min","1"),H(ie,"inputmode","numeric"),H(ie,"step","1"),H(ie,"placeholder","1"),H(ie,"id","fabric-pieces-to-add"),H(ie,"class","svelte-1s34n3c"),H(ne,"class","input-wrap svelte-1s34n3c"),H(W,"class","grid pad-v-10 fabric-piece-input-grid grid-gap-20 svelte-1s34n3c"),H(le,"type","button"),H(le,"class","svelte-1s34n3c"),H(oe,"class","flex center-h flex-1 svelte-1s34n3c"),H(he,"type","button"),he.disabled=ve=!e[1].length,H(he,"class","svelte-1s34n3c"),H(ae,"class","flex center-h flex-1 svelte-1s34n3c"),H(se,"class","pad-v-10 flex flex-h flex-gap-10 svelte-1s34n3c"),H(B,"class","pad-h-10 svelte-1s34n3c"),H(l,"class","svelte-1s34n3c"),H(xe,"class","pad-v-10 svelte-1s34n3c"),F(xe,"error-message",!e[9]&&e[8]),F(xe,"solution-message",!e[9]&&!e[8]&&e[4]),H(ye,"class","text-align-center svelte-1s34n3c"),H(o,"class","flex flex-h-when-big svelte-1s34n3c"),H(t,"class","app")},m(u,S){M(u,t,S),w(t,n),w(t,i),w(t,r),w(t,s),w(t,o),w(o,l),w(l,c),w(c,a),w(a,d),w(a,f),w(a,p),w(p,h),N(h,e[2]),w(a,g),w(a,v),w(a,m),w(a,b),w(b,y),N(y,e[0]),w(a,x),w(a,$),w($,k),k.checked=e[3],w($,_),w($,C),w(l,j),w(l,L),w(L,q),w(L,P),w(L,D),w(L,z),w(L,B),w(B,W),w(W,J),w(W,U),w(W,Z),w(Z,Y),N(Y,e[5]),w(W,I),w(W,G),w(W,K),w(W,Q),w(Q,V),N(V,e[6]),w(W,X),w(W,ee),w(W,te),w(W,ne),w(ne,ie),N(ie,e[7]),w(B,re),w(B,se),w(se,oe),w(oe,le),je.m(le,null),w(se,ce),w(se,ae),w(ae,he),w(he,ge),w(L,me),Ee&&Ee.m(L,null),w(o,be),w(o,ye),w(ye,xe),Re.m(xe,null),w(ye,we),He&&He.m(ye,null),w(t,$e),w(t,ke),_e=!0,Ce||(Me=[R(h,"input",e[13]),R(y,"input",e[14]),R(k,"change",e[15]),R(Y,"input",e[16]),R(V,"input",e[17]),R(ie,"input",e[18]),R(le,"click",e[10]),R(he,"click",e[11])],Ce=!0)},p(e,[t]){4&t&&T(h.value)!==e[2]&&N(h,e[2]),1&t&&T(y.value)!==e[0]&&N(y,e[0]),8&t&&(k.checked=e[3]),32&t&&T(Y.value)!==e[5]&&N(Y,e[5]),64&t&&T(V.value)!==e[6]&&N(V,e[6]),128&t&&T(ie.value)!==e[7]&&N(ie,e[7]),Oe!==(Oe=Se(e))&&(je.d(1),je=Oe(e),je&&(je.c(),je.m(le,null))),(!_e||2&t&&ve!==(ve=!e[1].length))&&(he.disabled=ve),e[1].length?Ee?Ee.p(e,t):(Ee=ot(e),Ee.c(),Ee.m(L,null)):Ee&&(Ee.d(1),Ee=null),Le===(Le=Ae(e))&&Re?Re.p(e,t):(Re.d(1),Re=Le(e),Re&&(Re.c(),Re.m(xe,null))),768&t&&F(xe,"error-message",!e[9]&&e[8]),784&t&&F(xe,"solution-message",!e[9]&&!e[8]&&e[4]),e[9]||e[8]||!e[4]?He&&(ue(),pe(He,1,1,(()=>{He=null})),de()):He?(He.p(e,t),784&t&&fe(He,1)):(He=ft(e),He.c(),fe(He,1),He.m(ye,null))},i(e){_e||(fe(He),_e=!0)},o(e){pe(He),_e=!1},d(e){e&&S(t),je.d(),Ee&&Ee.d(),Re.d(),He&&He.d(),Ce=!1,u(Me)}}}function ht(e,n,i){let r,s=10,o=10,l=1,c=18,a=[],u=45,d=!0,f="",p=-1,h=!1;function g(e){a.splice(e,1),i(1,a)}return e.$$.update=()=>{if(31&e.$$.dirty){!async function(){const e=()=>JSON.parse(JSON.stringify({fabricPieces:a,fabricWidth:u,fabricSoldBy:c,allowRotation:d})),n=e();if(r&&t(Ie)(r.input,n))return;console.log("calculating",n);const s=setTimeout((()=>{i(9,h=!0)}),200);try{const{noSolution:o,error:l,items:c,fabricHeight:a,timesCalculated:u}=await Ye(n);if(!t(Ie)(e(),n))return;if(o)i(4,r=void 0),i(8,f="");else if(l)i(4,r=void 0),i(8,f=l);else{const e={items:c,fabricHeight:a,input:n};console.log(`solution (calculated ${u} time(s))`,e),i(4,r=e),i(8,f="")}}finally{clearTimeout(s),i(9,h=!1)}}()}},[c,a,u,d,r,s,o,l,f,h,function(){a.push(...Array(Math.floor(l)).fill().map((()=>({width:s,height:o,id:++p})))),i(1,a)},function(){i(1,a=[])},g,function(){u=T(this.value),i(2,u)},function(){c=T(this.value),i(0,c)},function(){d=this.checked,i(3,d)},function(){s=T(this.value),i(5,s)},function(){o=T(this.value),i(6,o)},function(){l=T(this.value),i(7,l)},e=>g(e),function(e){a[e].width=T(this.value),i(1,a)},function(e){a[e].height=T(this.value),i(1,a)}]}var gt=class extends $e{constructor(e){super(),we(this,e,ht,pt,f,{},nt)}},vt=Object.assign(Object.create(null),{url:"file:///src/index.js"});const mt=new gt({target:document.body});vt.hot&&(vt.hot.accept(),vt.hot.dispose((()=>{mt.$destroy()})));
//# sourceMappingURL=index.31c06b97.js.map
